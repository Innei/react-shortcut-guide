var F=Object.defineProperty,G=Object.defineProperties;var U=Object.getOwnPropertyDescriptors;var O=Object.getOwnPropertySymbols;var W=Object.prototype.hasOwnProperty,X=Object.prototype.propertyIsEnumerable;var A=(e,n,r)=>n in e?F(e,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[n]=r,M=(e,n)=>{for(var r in n||(n={}))W.call(n,r)&&A(e,r,n[r]);if(O)for(var r of O(n))X.call(n,r)&&A(e,r,n[r]);return e},T=(e,n)=>G(e,U(n));import{r as o,R as N,j as u,a as I,F as J,b as j,G as z,C as Q,P as V,T as $,c as Y,B as D}from"./vendor.d365cf02.js";const Z=function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))s(t);new MutationObserver(t=>{for(const a of t)if(a.type==="childList")for(const d of a.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&s(d)}).observe(document,{childList:!0,subtree:!0});function r(t){const a={};return t.integrity&&(a.integrity=t.integrity),t.referrerpolicy&&(a.referrerPolicy=t.referrerpolicy),t.crossorigin==="use-credentials"?a.credentials="include":t.crossorigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function s(t){if(t.ep)return;t.ep=!0;const a=r(t);fetch(t.href,a)}};Z();const ee=()=>{const[e,n]=o.exports.useState(!1);return o.exports.useEffect(()=>{const r=window.matchMedia("(prefers-color-scheme: dark)"),s=r.matches;n(s);const t=a=>{n(a.matches)};return r.addEventListener("change",t),()=>{r.removeEventListener("change",t)}},[]),{dark:e}},b=N.createContext({shortcuts:[],registerShortcut(){return()=>{}},options:{},setOptions:()=>{}}),te=()=>{const{shortcuts:e}=o.exports.useContext(b);return e.filter(({hiddenInPanel:n})=>!n)};function ne(e){const n=e==null?0:e.length,r=[[],[]];if(!n)return r;if(n==2)return[[e[0]],[e[1]]];const s=Math.ceil(e.length/2);return[e.slice(0,s),e.slice(s,e.length)]}const re=(e,n)=>{const r=e==null?0:e.length;if(!r||!n||n<1)return[];const s=[];let t=0;for(;t<r;)s.push(e.slice(t,t+=n));return s},S=(...e)=>e.filter(Boolean).join(" "),q=e=>{const n=document.createElement("style");return n.innerHTML=e,document.head.appendChild(n),()=>{document.head.removeChild(n)}},B=(e,n)=>{let r;return(...s)=>{clearTimeout(r),r=setTimeout(()=>e.call(null,...s),n)}},oe="_root_q5uvf_1",se="_dark_q5uvf_10",ae="_container_q5uvf_15",le="_panel_q5uvf_30",ce="_slide_q5uvf_55",ie="_left_q5uvf_81",ue="_right_q5uvf_82",de="_title_q5uvf_128",pe="_keys_q5uvf_134",fe="_key_q5uvf_134",me="_indicator_q5uvf_149",he="_active_q5uvf_171";var h={root:oe,dark:se,container:ae,panel:le,slide:ce,left:ie,right:ue,"shortcut-item":"_shortcut-item_q5uvf_112",title:de,keys:pe,key:fe,indicator:me,"indicator-ball":"_indicator-ball_q5uvf_161",active:he};const ge=o.exports.memo(e=>{const{className:n}=e,r=te(),{options:s}=o.exports.useContext(b),{darkClassName:t="body.dark",darkMode:a="media",maxItemEveryPage:d=12}=s,{dark:E}=ee();o.exports.useEffect(()=>{if(a==="class")return q(`
        ${t} .${h.root} {
          --rsg-bg: rgba(29, 29, 31, 0.72) !important;
          --rsg-text-color: #e6e6e6 !important;
        }
      `)},[t,a]),o.exports.useEffect(()=>{let l;return requestAnimationFrame(()=>{l=q(`.${h.root} { transition: background-color 0.3s ease-in-out, color 0.3s ease-in-out; }`)}),()=>{l&&l()}},[]);const C=o.exports.useRef(null),p=r.length,c=p<=d?1:Math.ceil(p/d),[g,_]=o.exports.useState(1);if(o.exports.useEffect(()=>{if(c<2||!C.current)return;const l=C.current,x=l.scrollWidth/c;return l.onscroll=B(()=>{const v=l.scrollLeft;_(Math.ceil(v/x))},16),()=>{l.onscroll=null}},[c]),!p)return null;const L=re(r,d).map(l=>ne(l));return u("div",{className:S(h.root,h.container,E&&a==="media"&&h.dark,"rsg-panel",n),children:I("div",{className:S(h.panel,"rsg-panel-inner"),ref:C,style:{width:`calc(${100*c}% + ${c-1} * var(--rsg-pad) - var(--rsg-pad) * 2 * ${c-1})`},children:[L.map(([l,x],v)=>I("div",{className:h.slide,id:`rsg-panel-${v}`,children:[u("div",{className:h.left,children:l.map((f,m)=>o.exports.createElement(K,T(M({},f),{key:f.jointKey,isEnd:m==l.length-1})))}),u("div",{className:h.right,children:x.map((f,m)=>o.exports.createElement(K,T(M({},f),{key:f.jointKey,isEnd:m==x.length-1})))})]},v)),u(ve,{total:c,current:g})]})})}),K=o.exports.memo(e=>{const{keys:n,title:r,isEnd:s}=e;return I("div",{className:S(h["shortcut-item"],"rsg-shortcut-item"),style:s?{marginBottom:0}:void 0,children:[u("span",{className:S(h.title,"rsg-item-title"),children:r}),u("span",{className:S(h.keys,"rsg-item-keys"),children:n.map(t=>u("span",{className:S(h.key,"rsg-item-key"),children:t},t))})]})}),ve=o.exports.memo(e=>{const{total:n,current:r}=e;return n<2?null:u("div",{className:S(h.indicator,"rsg-indicator"),children:Array.from({length:e.total}).map((s,t)=>u("a",{href:`#rsg-panel-${t}`,className:S(h["indicator-ball"],"rsg-indicator-ball",r==t&&h.active)},t))})}),ye={Meta:"\u2318",Command:"\u2318",None:"",Option:"\u2325",Alt:"\u2325",Control:"\u2303",Shift:"\u21E7"},xe={Enter:"\u21A9",Tab:"\u21E5",Backspace:"\u232B",Escape:"\u238B",ArrowUp:"\u2191",ArrowDown:"\u2193",ArrowLeft:"\u2190",ArrowRight:"\u2192",Delete:"\u2326",Home:"\u21F1",End:"\u21F2",PageUp:"\u21DE",PageDown:"\u21DF",Insert:"\u2324",Space:"\u2423"};var i=(e=>(e.Alt="Alt",e.Option="Alt",e.Control="Control",e.Meta="Meta",e.Command="Meta",e.Shift="Shift",e.None="",e))(i||{});const H=()=>{const e=document.activeElement;return!!(e&&(["input","textarea"].includes(e.tagName.toLowerCase())||e.getAttribute("contenteditable")==="true"))},Ce=(...e)=>Object.assign({},...e),_e=e=>[...new Set(e)],ke="_panel_4w2s4_1",we="_disappear_4w2s4_6";var R={panel:ke,disappear:we};const Ee=o.exports.memo(()=>{const{options:e}=o.exports.useContext(b),{holdCommandTimeout:n=1e3,stayCommandTimeout:r=1e3,onGuidePanelClose:s,onGuidePanelOpen:t,open:a}=e||{},d=o.exports.useRef(null),[E,C]=o.exports.useState(!!a);o.exports.useEffect(()=>{a?(C(!0),c("in"),d.current=!0):d.current&&(c("out"),d.current=null)},[a]);const[p,c]=o.exports.useState("none"),g=be(E);o.exports.useEffect(()=>{E?t&&t():s&&s()},[s,t,E]),o.exports.useEffect(()=>{if(a)return;let l=null,x=!1;const v=w=>{H()||(w.key==="?"&&(l&&(l=clearTimeout(l)),C(P=>P?(c("out"),P):(c("in"),!P))),w.key==="Escape"&&c("out"))},f=B(w=>{if(!document.hasFocus())return;const P=w.key;(P=="Meta"||P=="Control")&&(l=clearTimeout(l),C(!0),c("in"),x=!0)},n),m=w=>{!x||(w.key=="Meta"||w.key=="Controll")&&(l=setTimeout(()=>{c("out"),x=!1},r))},k=()=>{g.current&&(l=setTimeout(()=>{c("out"),x=!1},r))};return window.addEventListener("keydown",v),window.addEventListener("keydown",f),window.addEventListener("keyup",m),window.addEventListener("focus",k),()=>{window.removeEventListener("keydown",v),window.removeEventListener("keydown",f),window.removeEventListener("keyup",m),clearTimeout(l)}},[n,r,a]);const[_,L]=o.exports.useState(null);return o.exports.useEffect(()=>{if(!!_&&p!="none")return p=="out"&&_.classList.add(R.disappear),_.ontransitionend=()=>{p==="out"&&(C(!1),c("none"))},()=>{_.ontransitionend=null}},[p,_]),typeof window=="undefined"?null:u(J,{children:E&&j.exports.createPortal(u("div",{ref:L,className:S(R.panel,"rsg-panel-wrapper"),children:u(ge,{})}),document.body)})}),Se=Object.keys(i),Pe=e=>!!-~Se.indexOf(e),Le=o.exports.memo(e=>{const{options:n}=e,[r,s]=o.exports.useState(null),[t,a]=N.useState([]),d=o.exports.useRef(new Map),E=o.exports.useRef(new WeakMap);o.exports.useEffect(()=>{const p=c=>{let g=c.key;if(typeof g=="undefined"||Pe(g))return;const _=c.shiftKey,L=c.altKey,l=c.ctrlKey,x=c.metaKey,v=[_&&"Shift",L&&"Alt",l&&"Control",x&&"Meta"].filter(Boolean).sort().join("+");g=g.length==1?g.toUpperCase():g;const f=`${v?`${v}+`:""}${g}`;if(d.current.has(f)){const m=d.current.get(f),k=E.current.get(m);if(k!=null&&k.preventInput&&H())return;m==null||m(c)}};return window.addEventListener("keydown",p),()=>{window.removeEventListener("keydown",p)}},[]);const C=o.exports.useCallback((p,c,g,_,L)=>{const{hiddenInPanel:l=!1,preventInput:x=!0}=L||{},v=_e(c).filter(Boolean),f=`${v.length?`${v.sort().join("+")}+`:""}${p}`;return a(m=>{var w;if(d.current.has(f))return m;d.current.set(f,g);const k={keys:[...v.map(P=>ye[P]),(w=xe[p])!=null?w:p.toUpperCase()],title:_,jointKey:f,hiddenInPanel:l,action:g,preventInput:x};return E.current.set(g,k),[...m,k]}),()=>{!d.current.has(f)||a(m=>(d.current.delete(f),m.filter(k=>k.jointKey!==f)))}},[]);return I(b.Provider,{value:o.exports.useMemo(()=>{var p;return{shortcuts:t,registerShortcut:C,options:(p=Ce(n,r))!=null?p:{},setOptions:s}},[r,n,C,t]),children:[e.children,u(Ee,{})]})}),Ie=()=>{const{options:e,setOptions:n}=o.exports.useContext(b);return{options:e,setOptions:n}},y=(...e)=>{const{registerShortcut:n}=o.exports.useContext(b),r=o.exports.useRef();return o.exports.useEffect(()=>{const s=n(...e);return r.current=s,s},[]),r.current},be=e=>{const n=N.useRef(e);return o.exports.useEffect(()=>{n.current=e},[e]),n};j.exports.render(I(z,{children:[u(Q,{}),u(V,{children:u(Me,{})})]}),document.getElementById("app"));function Me(){return u(Le,{options:{darkMode:"media",onGuidePanelOpen(){console.log("open")}},children:u(Te,{})})}function Te(){y("A",[i.Meta],()=>{console.log("a")},"Print A"),y("B",[i.Control,i.Meta,i.Meta],()=>{console.log("b")},"Print B"),y("Escape",[i.Control,i.Meta,i.Shift],()=>{console.log("c")},"Print C");const e=y("D",[i.None],()=>{console.log("d")},"Print D");y("O",[i.Command,i.Alt,i.Shift],()=>{console.log("d")},"Long Item Long Item Long Item Long Item Long Item"),y("?",[i.None],()=>{},"Open Guide"),y("K",[i.Command],()=>{alert("Search")},"Search"),y("P",[i.Command],t=>{t.preventDefault(),alert("Search")},"Hidden",{preventInput:!1}),y("X",[i.Command],t=>{t.preventDefault(),alert("Search")},"Hidaden",{preventInput:!1}),y("B",[i.Command],t=>{t.preventDefault(),alert("Search")},"Hiddzen",{preventInput:!1}),y("T",[i.Command],t=>{t.preventDefault(),alert("Test")},"Test",{preventInput:!1}),y("[",[i.Command],t=>{t.preventDefault(),alert("Test")},"Test",{preventInput:!1}),y("]",[i.Command],t=>{t.preventDefault(),alert("Test")},"Test",{preventInput:!1}),"abcdefghijklmnopqrstuvwxyz".toUpperCase().split("").forEach((t,a)=>{y(t,[i.Command,i.Control],d=>{d.preventDefault(),alert(t)},`${t}`,{preventInput:!1})});const{setOptions:r,options:s}=Ie();return I("div",{children:[u($,{h1:!0,children:"React Shortcut Guideline"}),u($,{children:"Long press \u2318, or press ? to open the guide."}),u(Y,{text:"Controlled Panel",children:I(D,{style:{marginRight:"12px"},type:"default",shadow:!0,onClick:()=>{r({open:!s.open})},children:[s.open?"Close":"Open"," Guide"]})}),u(D,{type:"secondary",shadow:!0,onClick:e,children:"Cleanup D Shortcut"})]})}
